{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 118, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/jayde/OneDrive/Desktop/aura%20projects/aura-frontend/app/firebaseConfig.ts"],"sourcesContent":["import { initializeApp, getApp, getApps } from \"firebase/app\";\r\nimport { getFirestore } from \"firebase/firestore\";\r\nimport { getAuth } from \"firebase/auth\";\r\n// Do NOT import getAnalytics, as it requires the 'window' object\r\n\r\n// --- PASTE YOUR FIREBASE CONFIG KEYS HERE ---\r\n// You can get this from your Firebase project settings:\r\n// Project Overview > Project settings > General > \"Your apps\" > Web app\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyBT0A7ywivkgVFtWLkbpESNZWw8l8TXa4U\",\r\n  authDomain: \"aura-journal-b37c4.firebaseapp.com\",\r\n  projectId: \"aura-journal-b37c4\",\r\n  storageBucket: \"aura-journal-b37c4.firebasestorage.app\",\r\n  messagingSenderId: \"999309219347\",\r\n  appId: \"1:999309219347:web:3424ddafdb70ca381591e6\"\r\n};\r\n\r\n\r\n\r\n\r\n// Initialize Firebase\r\n// This line checks if the app is already initialized,\r\n// which is important for Next.js to avoid errors during hot-reloading.\r\nconst app = !getApps().length ? initializeApp(firebaseConfig) : getApp();\r\n\r\n// Get the database and auth instances\r\nconst db = getFirestore(app);\r\nconst auth = getAuth(app);\r\n\r\n// Export the instances so other files can use them\r\nexport { app, db, auth };\r\n\r\n\r\n\r\n\r\n\r\n\r\n"],"names":[],"mappings":";;;;;;;;AAAA;AAAA;AACA;AAAA;AACA;AAAA;;;;AACA,iEAAiE;AAEjE,+CAA+C;AAC/C,wDAAwD;AACxD,wEAAwE;AACxE,MAAM,iBAAiB;IACrB,QAAQ;IACR,YAAY;IACZ,WAAW;IACX,eAAe;IACf,mBAAmB;IACnB,OAAO;AACT;AAKA,sBAAsB;AACtB,sDAAsD;AACtD,uEAAuE;AACvE,MAAM,MAAM,CAAC,IAAA,+LAAO,IAAG,MAAM,GAAG,IAAA,qMAAa,EAAC,kBAAkB,IAAA,8LAAM;AAEtE,sCAAsC;AACtC,MAAM,KAAK,IAAA,qMAAY,EAAC;AACxB,MAAM,OAAO,IAAA,iMAAO,EAAC","debugId":null}},
    {"offset": {"line": 159, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/jayde/OneDrive/Desktop/aura%20projects/aura-frontend/app/page.tsx"],"sourcesContent":["'use client';\n\n// React & Next.js imports\nimport { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { BookOpen, LayoutDashboard, LogOut, Loader2, TagIcon, Calendar, Activity, Smile, Frown, Meh, Sparkles, ChevronRight, Users, ExternalLink } from 'lucide-react';\nimport { Line } from 'react-chartjs-2';\nimport { Chart as ChartJS, CategoryScale, LinearScale, PointElement, LineElement, Title, Tooltip, Legend } from 'chart.js';\nimport { Timestamp } from 'firebase/firestore'; // Import the Timestamp type\n\n// Firebase & Auth imports\nimport { db, auth } from './firebaseConfig'; // Assuming firebaseConfig.ts exists and exports these\nimport { doc, getDoc, setDoc, addDoc, collection, onSnapshot, query, orderBy, serverTimestamp, where } from 'firebase/firestore';\nimport { GoogleAuthProvider, signInWithPopup, signInAnonymously } from 'firebase/auth';\nimport { onAuthStateChanged, User } from 'firebase/auth';\n\n// Register Chart.js components\nChartJS.register(CategoryScale, LinearScale, PointElement, LineElement, Title, Tooltip, Legend);\n\n// ==================================================================\n// TYPE DEFINITIONS\n// ==================================================================\n\n// Defines the structure for a single journal entry from Firestore\nexport interface JournalEntry {\n  id: string;\n  date: Timestamp; // Firestore Timestamp\n  sentiment: 'POSITIVE' | 'NEGATIVE' | 'NEUTRAL' | string;\n  labels: string[];\n  activities: string[];\n  originalText?: string;\n}\n\n// Defines the structure for a single coping strategy\nexport interface Strategy {\n  title: string;\n  text: string;\n  emoji: string;\n  requiredTags: string[];\n}\n\n// Defines the structure for a single habit\nexport interface Habit {\n  id: string;\n  name: string;\n  target: number;\n  progress: number;\n  emoji: string;\n}\n\n// Defines the main analysis result from the AI backend\ntype AnalysisResult = {\n  sentiment: 'POSITIVE' | 'NEGATIVE' | 'NEUTRAL' | string;\n  labels: string[];\n  activities: string[];\n};\n\n// Defines the data structure for the user's streak\ntype StreakData = {\n  streakCount: number;\n  lastJournalDate: string | null;\n};\n\n// Defines the possible tabs/views of the app\ntype View = 'journal' | 'dashboard' | 'support';\n\n// Defines the structure for counselor data from Firestore\ninterface Counselor {\n  id: string;\n  name: string;\n  title: string;\n  imageUrl: string;\n  specializations: string[];\n  bio: string;\n  website?: string;\n  isActive: boolean;\n}\n\n// ==================================================================\n// CONSTANTS\n// ==================================================================\n\nconst ALL_ACTIVITIES = [\"Exercise\", \"Social\", \"Work\", \"Hobby\", \"Rest\", \"Nutrition\"];\n\nconst initialHabits: Habit[] = [\n  { id: 'exercise', name: 'Exercise', target: 3, progress: 0, emoji: 'üí™' },\n  { id: 'mindful', name: 'Mindful Minutes', target: 5, progress: 0, emoji: 'üßò' },\n  { id: 'hydrate', name: 'Hydrate (8 glasses)', target: 7, progress: 0, emoji: 'üíß' },\n];\n\n// Helper to get a date in YYYY-MM-DD format, crucial for streak logic\nconst getISODate = (date: Date): string => {\n  return date.toISOString().split('T')[0];\n};\n\n// ==================================================================\n// HELPER: STRATEGY ENGINE\n// ==================================================================\n\nconst strategyLibrary: Strategy[] = [\n  { title: \"Anxious about Work?\", text: \"Try the 'Urgent-Important Matrix' to organize tasks.\", emoji: \"üìã\", requiredTags: [\"Anxiety\", \"Work\"], },\n  { title: \"Down about Relationships?\", text: \"Write a short, positive message to someone you care about.\", emoji: \"üíå\", requiredTags: [\"Sadness\", \"Relationships\"], },\n  { title: \"Feeling Fatigued?\", text: \"A short 10-minute walk can boost circulation and mental clarity.\", emoji: \"üö∂‚Äç‚ôÄÔ∏è\", requiredTags: [\"Fatigue\"], },\n  { title: \"Feeling Anxious?\", text: \"Try the 4-7-8 breathing technique: Inhale 4s, Hold 7s, Exhale 8s.\", emoji: \"üå¨Ô∏è\", requiredTags: [\"Anxiety\"], },\n  { title: \"Feeling Sad?\", text: \"Write down three small things you are grateful for today.\", emoji: \"‚ù§Ô∏è\", requiredTags: [\"Sadness\"], },\n];\n\nfunction getPersonalizedStrategy(analysis: AnalysisResult): Strategy {\n  let bestMatch: Strategy | null = null;\n  let highestScore = 0;\n  const allUserTags = [...analysis.labels, ...analysis.activities];\n  for (const strategy of strategyLibrary) {\n    const score = strategy.requiredTags.reduce((acc, tag) => (allUserTags.includes(tag) ? acc + 1 : acc), 0);\n    if (score > highestScore) {\n      highestScore = score;\n      bestMatch = strategy;\n    }\n  }\n  return bestMatch || { title: \"Your Daily Insight ‚ú®\", text: \"Reflecting on your feelings is a powerful step.\", emoji: \"üß†\", requiredTags: [], };\n}\n\n// ==================================================================\n// HELPER: useAuth Hook\n// ==================================================================\n\nfunction useAuth() {\n  const [user, setUser] = useState<User | null>(null);\n  const [loading, setLoading] = useState(true);\n  useEffect(() => {\n    // Ensure Firebase auth is initialized before listening\n    const unsubscribe = onAuthStateChanged(auth, (user) => { setUser(user); setLoading(false); });\n    return () => unsubscribe(); // Cleanup listener on component unmount\n  }, []);\n  return { user, loading };\n}\n\n// ==================================================================\n// UI COMPONENTS (Merged into one file)\n// ==================================================================\n\n// ---------------------------------\n// LoginScreen Component\n// ---------------------------------\nfunction LoginScreen() {\n  const [isGuestLoading, setIsGuestLoading] = useState(false);\n  const [isGoogleLoading, setIsGoogleLoading] = useState(false);\n  const handleGoogleLogin = async () => { setIsGoogleLoading(true); const provider = new GoogleAuthProvider(); try { await signInWithPopup(auth, provider); } catch (error) { console.error(\"Error during Google login:\", error); setIsGoogleLoading(false); } };\n  const handleGuestLogin = async () => { setIsGuestLoading(true); try { await signInAnonymously(auth); } catch (error) { console.error(\"Error during guest login:\", error); setIsGuestLoading(false); } };\n  return (\n    <div className=\"flex min-h-screen flex-col items-center justify-center p-4 bg-slate-50 font-sans\">\n      <div className=\"w-full max-w-md text-center\">\n        <header className=\"mb-10\"><h1 className=\"text-6xl font-bold text-indigo-600\">Aura</h1><p className=\"text-xl text-slate-600 mt-2\">Your private space to reflect and grow.</p></header>\n        <div className=\"bg-white p-8 rounded-2xl shadow-lg\"><h2 className=\"text-xl font-semibold text-slate-800 mb-6\">Welcome Back</h2>\n          <button onClick={handleGoogleLogin} disabled={isGoogleLoading || isGuestLoading} className=\"w-full bg-indigo-600 text-white font-bold py-3 px-4 rounded-lg hover:bg-indigo-700 transition-all duration-300 shadow-sm flex items-center justify-center disabled:opacity-50\">\n            {isGoogleLoading ? <Loader2 size={20} className=\"mr-2 animate-spin\" /> : <Sparkles size={20} className=\"mr-2\" />} Sign in with Google\n          </button>\n          <button onClick={handleGuestLogin} disabled={isGoogleLoading || isGuestLoading} className=\"w-full bg-slate-200 text-slate-700 font-bold py-3 px-4 rounded-lg hover:bg-slate-300 transition-all duration-300 mt-4 disabled:opacity-50\">\n            {isGuestLoading ? <Loader2 size={20} className=\"mr-2 animate-spin\" /> : <ChevronRight size={20} className=\"mr-2\" />} Continue as Guest\n          </button>\n        </div><p className=\"text-xs text-slate-500 mt-8\">By signing in, you agree to our Terms of Service.</p>\n      </div>\n    </div>\n  );\n}\n\n// ---------------------------------\n// StreakTracker Component\n// ---------------------------------\nfunction StreakTracker({ streak }: { streak: number }) {\n  // Only render if streak is positive\n  if (streak === 0) return null;\n  return (\n    <div key={streak} className=\"flex items-center gap-2 bg-white px-3 py-2 rounded-full shadow-sm border border-slate-200 animate-pop-in\">\n      <span className=\"text-2xl\" role=\"img\" aria-label=\"Streak flame\">üî•</span>\n      <span className=\"text-xl font-bold text-orange-500\">{streak}</span>\n    </div>\n  );\n}\n\n// ---------------------------------\n// BreathingExercise Component\n// ---------------------------------\nfunction BreathingExercise({ onClose }: { onClose: () => void }) {\n  const phases = [{ name: \"Inhale\", duration: 4 }, { name: \"Hold\", duration: 7 }, { name: \"Exhale\", duration: 8 }];\n  const totalCycles = 4;\n  const [cycleIndex, setCycleIndex] = useState(-1);\n  const [instruction, setInstruction] = useState(\"Get Ready\");\n  const [countdown, setCountdown] = useState(3);\n\n  useEffect(() => {\n    const interval = setInterval(() => {\n      setCountdown(c => c - 1);\n    }, 1000);\n\n    if (countdown === 0) {\n      const nextCycleIndex = cycleIndex + 1;\n      if (nextCycleIndex >= phases.length * totalCycles) {\n        clearInterval(interval);\n        onClose(); // Close the modal when done\n        return;\n      }\n      const phase = phases[nextCycleIndex % 3];\n      setCycleIndex(nextCycleIndex);\n      setInstruction(phase.name);\n      setCountdown(phase.duration);\n    }\n    // Cleanup interval on unmount or when countdown changes\n    return () => clearInterval(interval);\n  }, [countdown, cycleIndex, onClose]); // Add onClose to dependency array\n\n  return (\n    <div className=\"fixed inset-0 bg-indigo-900 bg-opacity-95 flex flex-col items-center justify-center z-50 animate-fade-in\">\n      <button onClick={onClose} className=\"absolute top-6 right-6 text-white text-3xl font-bold opacity-70 hover:opacity-100\">&times;</button>\n      <div className=\"text-center\">\n        <div\n          className=\"w-48 h-48 rounded-full border-4 border-white flex items-center justify-center transition-transform duration-1000 ease-in-out\" // Added transition-transform\n          style={{ transform: instruction === 'Inhale' ? 'scale(1.1)' : 'scale(1)' }} // Grow on Inhale\n        >\n          <div>\n            <p className=\"text-white text-3xl font-bold\">{instruction}</p>\n            <p className=\"text-white text-5xl font-bold mt-2\">{countdown}</p>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\n// ---------------------------------\n// GoalTracker Component\n// ---------------------------------\nfunction GoalTracker({ habits, onUpdate, onReset }: { habits: Habit[], onUpdate: (id: string) => void, onReset: () => void }) {\n  // Show loading skeleton if habits haven't loaded\n  if (!habits || habits.length === 0) {\n    return (\n      <div className=\"bg-white p-6 rounded-2xl shadow-lg animate-pulse\">\n        <div className=\"h-6 bg-slate-200 rounded w-3/4 mb-4\"></div>\n        <div className=\"space-y-4\">\n          <div className=\"h-10 bg-slate-200 rounded\"></div>\n          <div className=\"h-10 bg-slate-200 rounded\"></div>\n          <div className=\"h-10 bg-slate-200 rounded\"></div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"bg-white p-6 rounded-2xl shadow-lg\">\n      <div className=\"flex justify-between items-center mb-4\">\n        <h2 className=\"text-2xl font-bold text-slate-800\">This Week's Goals</h2>\n        <button onClick={onReset} className=\"text-sm font-medium text-indigo-600 hover:text-indigo-800\">Reset Progress</button>\n      </div>\n      <div className=\"space-y-4\">\n        {habits.map(habit => (\n          <div key={habit.id}>\n            <div className=\"flex justify-between items-center\">\n              <span className=\"font-semibold\">{habit.emoji} {habit.name}</span>\n              <span className=\"text-sm text-slate-600\">{habit.progress} / {habit.target}</span>\n            </div>\n            <div className=\"w-full bg-slate-200 rounded-full h-2.5 mt-1.5 overflow-hidden\">\n              <div\n                className=\"bg-indigo-600 h-2.5 rounded-full transition-all duration-300\"\n                style={{ width: `${Math.min(100, (habit.progress / habit.target) * 100)}%` }} // Ensure width doesn't exceed 100%\n              ></div>\n            </div>\n            <button\n              onClick={() => onUpdate(habit.id)}\n              disabled={habit.progress >= habit.target}\n              className=\"mt-2 text-sm bg-slate-100 px-3 py-1 rounded-full hover:bg-slate-200 disabled:opacity-50 disabled:cursor-not-allowed\"\n            >\n              Log +1\n            </button>\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n}\n\n// ---------------------------------\n// MoodChart Component\n// ---------------------------------\nfunction MoodChart({ history }: { history: JournalEntry[] }) {\n  const [chartData, setChartData] = useState<any>({ datasets: [] });\n  const [hasEnoughData, setHasEnoughData] = useState(false);\n\n  useEffect(() => {\n    // Only run this logic in the browser\n    if (typeof window === 'undefined') return;\n\n    const sevenDaysAgo = new Date();\n    sevenDaysAgo.setDate(sevenDaysAgo.getDate() - 7);\n    sevenDaysAgo.setHours(0, 0, 0, 0); // Start of 7 days ago\n\n    // Filter entries from the last 7 days\n    const recentEntries = history.filter(entry => entry.date?.toDate() >= sevenDaysAgo);\n\n    if (recentEntries.length < 2) {\n      setHasEnoughData(false);\n      return; // Need at least 2 points for a line chart\n    }\n\n    setHasEnoughData(true);\n    // Sort entries chronologically for the chart\n    const sortedEntries = [...recentEntries].sort((a, b) => a.date.toDate().getTime() - b.date.toDate().getTime());\n\n    // Prepare data for Chart.js\n    const labels = sortedEntries.map(entry => entry.date.toDate().toLocaleDateString('en-US', { month: 'short', day: 'numeric' }));\n    const dataPoints = sortedEntries.map(entry => entry.sentiment === 'POSITIVE' ? 1 : entry.sentiment === 'NEGATIVE' ? -1 : 0);\n\n    setChartData({\n      labels,\n      datasets: [{\n        label: 'Mood Trend',\n        data: dataPoints,\n        borderColor: 'rgb(79, 70, 229)', // Indigo\n        backgroundColor: 'rgba(79, 70, 229, 0.5)',\n        tension: 0.1, // Smooth curve\n        fill: false, // Don't fill area under line\n        pointRadius: 4,\n        pointBackgroundColor: 'rgb(79, 70, 229)',\n      }],\n    });\n  }, [history]); // Re-run effect when history data changes\n\n  // Display message if not enough data\n  if (!hasEnoughData) {\n    return (\n      <div className=\"bg-white p-6 rounded-2xl shadow-lg\">\n        <h2 className=\"text-2xl font-bold text-slate-800 mb-4\">Mood Analytics</h2>\n        <div className=\"text-center p-4 bg-slate-100 rounded-lg\">\n          <p className=\"text-slate-600\">Journal for a few more days to see your mood trend chart!</p>\n        </div>\n      </div>\n    );\n  }\n\n  // Chart configuration\n  const chartOptions = {\n    responsive: true,\n    maintainAspectRatio: false, // Allow chart height to be controlled\n    plugins: {\n      legend: { display: false },\n      title: { display: true, text: 'Your Mood Over the Last 7 Days', font: { size: 16, weight: 'bold' as 'bold' } }, // Type assertion for weight\n      tooltip: {\n        callbacks: {\n          label: function (context: any) {\n            let label = context.dataset.label || '';\n            if (label) { label += ': '; }\n            if (context.parsed.y === 1) label += 'Positive';\n            else if (context.parsed.y === -1) label += 'Negative';\n            else if (context.parsed.y === 0) label += 'Neutral';\n            return label;\n          }\n        }\n      }\n    },\n    scales: {\n      y: {\n        ticks: {\n          callback: function (value: any) {\n            if (value === 1) return 'Positive';\n            if (value === -1) return 'Negative';\n            if (value === 0) return 'Neutral';\n            return null; // Hide other ticks\n          },\n          stepSize: 1 // Only show ticks at -1, 0, 1\n        },\n        min: -1.5,\n        max: 1.5,\n        grid: { color: '#e2e8f0' } // Lighter grid lines\n      },\n      x: {\n        grid: { display: false }, // Hide vertical grid lines\n        ticks: { maxRotation: 0, autoSkipPadding: 10 } // Improve label readability\n      }\n    },\n  };\n\n  return (\n    <div className=\"bg-white p-6 rounded-2xl shadow-lg\">\n      <div className=\"h-64\"> {/* Set a fixed height for the chart container */}\n        <Line options={chartOptions} data={chartData} />\n      </div>\n    </div>\n  );\n}\n\n\n// ---------------------------------\n// WeeklySummary Component\n// ---------------------------------\nfunction WeeklySummary({ history }: { history: JournalEntry[] }) {\n  const [showModal, setShowModal] = useState(false);\n  const [summary, setSummary] = useState<any | null>(null);\n\n  const calculateSummary = () => {\n    if (typeof window === 'undefined') return;\n    const sevenDaysAgo = new Date(); sevenDaysAgo.setDate(sevenDaysAgo.getDate() - 7); sevenDaysAgo.setHours(0,0,0,0);\n    const recentEntries = history.filter(entry => entry.date?.toDate() > sevenDaysAgo);\n    if (recentEntries.length === 0) { setSummary({ totalEntries: 0, moods: {}, topEmotion: 'N/A', topActivity: 'N/A' }); return; }\n    const moodCounts:{[k:string]:number}={POSITIVE:0,NEGATIVE:0,NEUTRAL:0}; const labelCounts:{[k:string]:number}={}; const activityOnPositiveDays:{[k:string]:number}={};\n    recentEntries.forEach(entry => { if(moodCounts[entry.sentiment]!==undefined) moodCounts[entry.sentiment]++; entry.labels.forEach(l=>{labelCounts[l]=(labelCounts[l]||0)+1;}); if(entry.sentiment === 'POSITIVE') entry.activities.forEach(a=>{activityOnPositiveDays[a]=(activityOnPositiveDays[a]||0)+1;}); });\n    const getTopItem=(obj:{[k:string]:number})=>Object.keys(obj).reduce((a,b)=>obj[a]>obj[b]?a:b, '')||'N/A';\n    setSummary({ totalEntries: recentEntries.length, moods: moodCounts, topEmotion: getTopItem(labelCounts), topActivity: getTopItem(activityOnPositiveDays), });\n  };\n\n  const handleShowSummary = () => { calculateSummary(); setShowModal(true); };\n  const MoodStat=({m,c,t}:{m:string,c:number,t:number})=>{const p=t>0?Math.round((c/t)*100):0; const cl:{[k:string]:string}={POSITIVE:'bg-green-500',NEGATIVE:'bg-rose-500',NEUTRAL:'bg-slate-500'};return(<div><div className=\"flex justify-between font-semibold text-sm\"><span>{m.charAt(0).toUpperCase()+m.slice(1).toLowerCase()}</span><span>{p}%</span></div><div className=\"w-full bg-slate-200 rounded-full h-2.5 mt-1\"><div className={`${cl[m]||'bg-gray-400'} h-2.5 rounded-full`} style={{width:`${p}%`}}></div></div></div>);};\n\n  return (\n    <>\n      <div className=\"bg-white p-6 rounded-2xl shadow-lg\">\n        <h2 className=\"text-2xl font-bold text-slate-800 mb-4\">Your Week</h2>\n        <p className=\"text-slate-600 mb-4 text-sm\">Get a summary of your emotional trends and insights from the past 7 days.</p>\n        <button onClick={handleShowSummary} className=\"w-full bg-indigo-600 text-white font-bold py-3 px-4 rounded-xl hover:bg-indigo-700 transition-all\">Generate My Weekly Summary</button>\n      </div>\n      {showModal && summary && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4 animate-fade-in\">\n          <div className=\"bg-white rounded-lg shadow-2xl p-6 w-full max-w-md\">\n            <div className=\"flex justify-between items-center border-b pb-3 mb-4\"><h2 className=\"text-2xl font-bold text-slate-800\">Your Week in Review</h2><button onClick={()=>setShowModal(false)} className=\"text-2xl font-bold text-slate-500 hover:text-slate-800\">&times;</button></div>\n            {summary.totalEntries > 0 ? (\n              <div className=\"space-y-5\">\n                <div><h3 className=\"font-bold text-lg mb-2\">Mood Breakdown</h3><div className=\"space-y-3\"><MoodStat m=\"POSITIVE\" c={summary.moods.POSITIVE} t={summary.totalEntries} /><MoodStat m=\"NEGATIVE\" c={summary.moods.NEGATIVE} t={summary.totalEntries} /><MoodStat m=\"NEUTRAL\" c={summary.moods.NEUTRAL} t={summary.totalEntries} /></div></div>\n                <div><h3 className=\"font-bold text-lg\">Key Insights</h3><div className=\"mt-2 space-y-2 text-slate-700\"><p><strong>Most common feeling:</strong> <span className=\"font-semibold text-indigo-700\">{summary.topEmotion}</span></p><p><strong>Activity linked to positive days:</strong> <span className=\"font-semibold text-green-700\">{summary.topActivity}</span></p></div></div>\n                <div className=\"bg-indigo-50 p-3 rounded-lg border border-indigo-200\"><p className=\"text-indigo-800 text-sm\"><strong>Pro-Tip:</strong> To boost your mood next week, try focusing on activities like **{summary.topActivity}**!</p></div>\n              </div>\n            ) : (<p className=\"text-center text-slate-600 py-8\">Not enough data from the past week. Keep journaling!</p>)}\n          </div>\n        </div>\n      )}\n    </>\n  );\n}\n\n\n// ---------------------------------\n// JournalHistory Component\n// ---------------------------------\nfunction JournalHistory({ history }: { history: JournalEntry[] }) {\n  const getSentimentStyle = (s: string) => { switch(s){ case 'POSITIVE':return{i:<Smile size={18} className=\"text-green-500\"/>, b:'border-l-4 border-green-500'}; case 'NEGATIVE':return{i:<Frown size={18} className=\"text-rose-500\"/>, b:'border-l-4 border-rose-500'}; default:return{i:<Meh size={18} className=\"text-slate-500\"/>, b:'border-l-4 border-slate-500'};}};\n  if (!history || history.length === 0) { return ( <div className=\"bg-white p-6 rounded-2xl shadow-lg\"><h2 className=\"text-2xl font-bold text-slate-800 mb-4\">Journal History</h2><div className=\"text-center p-4 bg-slate-100 rounded-lg\"><p className=\"text-slate-600\">Your past journal entries will appear here.</p></div></div> ); }\n  return ( <div className=\"bg-white p-6 rounded-2xl shadow-lg\"><h2 className=\"text-2xl font-bold text-slate-800 mb-4\">Journal History</h2><div className=\"space-y-4 max-h-96 overflow-y-auto pr-2\">{history.map(entry => { const {i:icon, b:cardBorder} = getSentimentStyle(entry.sentiment); const entryDate = entry.date?.toDate(); return ( <div key={entry.id} className={`p-4 rounded-lg bg-slate-50 border ${cardBorder}`}><div className=\"flex justify-between items-center mb-2\"><div className=\"flex items-center gap-2 text-sm font-semibold text-slate-700\"><Calendar size={14}/>{entryDate ? entryDate.toLocaleDateString('en-US',{year:'numeric',month:'long',day:'numeric'}) : 'No date'}</div>{icon}</div><p className=\"text-slate-700 mb-3 text-sm\">{entry.originalText || <i>(No text saved)</i>}</p><div className=\"flex flex-wrap items-center gap-2\">{entry.labels?.length>0 && (<div className=\"flex items-center gap-1.5\"><TagIcon size={14} className=\"text-slate-500\"/>{entry.labels.map(l=><SmallTag key={l} text={l} color=\"bg-indigo-100 text-indigo-700\"/>)}</div>)}{entry.activities?.length>0 && (<div className=\"flex items-center gap-1.5\"><Activity size={14} className=\"text-slate-500\"/>{entry.activities.map(a=><SmallTag key={a} text={a} color=\"bg-orange-100 text-orange-700\"/>)}</div>)}</div></div> ); })}</div></div> );\n}\n\n// ---------------------------------\n// CounselorList Component\n// ---------------------------------\nfunction CounselorList() {\n  const [counselors, setCounselors] = useState<Counselor[]>([]); const [isLoading, setIsLoading] = useState(true); const [error, setError] = useState<string | null>(null);\n  useEffect(() => { const q = query(collection(db, 'counselors'), where(\"isActive\", \"==\", true)); const unsub = onSnapshot(q, (snap) => { const list = snap.docs.map(doc => ({ id: doc.id, ...doc.data() } as Counselor)); setCounselors(list); setIsLoading(false); setError(null); }, (err) => { console.error(\"Err fetch counselors:\", err); setError(\"Could not load counselors.\"); setIsLoading(false); }); return () => unsub(); }, []);\n  return ( <div className=\"bg-white p-6 rounded-2xl shadow-lg\"><h2 className=\"text-2xl font-bold text-slate-800 mb-1\">Find Support</h2><p className=\"text-slate-600 mb-4 text-sm\">Connect with licensed professionals. This is a directory, not an endorsement.</p> {isLoading && (<div className=\"flex justify-center py-10\"><Loader2 size={32} className=\"text-indigo-600 animate-spin\"/></div>)} {error && (<div className=\"text-center py-10 px-4 bg-rose-50 border border-rose-200 rounded-lg\"><p className=\"text-rose-700 font-semibold\">Error</p><p className=\"text-rose-600 text-sm mt-1\">{error}</p></div>)} {!isLoading && !error && counselors.length === 0 && (<div className=\"text-center py-10 px-4 bg-slate-50 border border-slate-200 rounded-lg\"><p className=\"text-slate-600\">No counselors listed.</p></div>)} {!isLoading && !error && counselors.length > 0 && (<div className=\"space-y-4\">{counselors.map(c => <CounselorCard key={c.id} counselor={c} />)}</div>)} <div className=\"mt-6 pt-4 border-t border-slate-200 text-center\"><h3 className=\"text-md font-semibold text-rose-700 mb-2\">Need Immediate Help?</h3><p className=\"text-sm text-slate-600\">If you are in crisis, please reach out. <a href=\"https://findahelpline.com/\" target=\"_blank\" rel=\"noopener noreferrer\" className=\"text-indigo-600 hover:underline ml-1\">Find Crisis Resources</a>.</p></div></div> );\n}\n\n// ---------------------------------\n// CounselorCard Component\n// ---------------------------------\nfunction CounselorCard({ counselor }: { counselor: Counselor }) {\n  // Fallback image function\n  const handleImageError = (e: React.SyntheticEvent<HTMLImageElement, Event>) => {\n    e.currentTarget.onerror = null; // Prevent infinite loop\n    e.currentTarget.src = 'https://placehold.co/100x100/E2E8F0/475569?text=Counselor';\n  };\n\n  return (\n    <div className=\"flex flex-col sm:flex-row items-start gap-4 p-4 rounded-lg bg-slate-50 border border-slate-200 hover:shadow-md transition-shadow\">\n      <img\n        src={counselor.imageUrl || 'https://placehold.co/100x100/E2E8F0/475569?text=Counselor'}\n        alt={`Photo of ${counselor.name}`}\n        className=\"w-24 h-24 rounded-full object-cover flex-shrink-0 border-2 border-white shadow-sm mx-auto sm:mx-0\"\n        onError={handleImageError}\n      />\n      <div className=\"flex-1 text-center sm:text-left\">\n        <h3 className=\"text-lg font-bold text-slate-800\">{counselor.name}</h3>\n        <p className=\"text-sm font-medium text-indigo-600 mb-1\">{counselor.title}</p>\n        {counselor.specializations?.length > 0 && (\n          <div className=\"flex flex-wrap items-center justify-center sm:justify-start gap-1.5 mb-2\">\n            <TagIcon size={14} className=\"text-slate-500\" />\n            {counselor.specializations.map(s => <SmallTag key={s} text={s} color=\"bg-indigo-100 text-indigo-700\" />)}\n          </div>\n        )}\n        <p className=\"text-sm text-slate-600 mb-3 line-clamp-3\">{counselor.bio}</p>\n        {counselor.website && (\n          <a href={counselor.website} target=\"_blank\" rel=\"noopener noreferrer\" className=\"inline-flex items-center gap-1 text-sm font-medium text-indigo-600 hover:text-indigo-800 hover:underline\">\n            Visit Website <ExternalLink size={14} />\n          </a>\n        )}\n      </div>\n    </div>\n  );\n}\n\n\n// ---------------------------------\n// Generic UI Helper Components\n// ---------------------------------\nfunction TabButton({ icon, label, isActive, onClick }: { icon: React.ReactNode, label: string, isActive: boolean, onClick: () => void }) {\n  return ( <button onClick={onClick} className={`flex-1 flex items-center justify-center gap-2 px-3 py-2 rounded-md text-sm font-bold transition-all ${isActive ? 'bg-white text-indigo-700 shadow-sm' : 'text-slate-600 hover:bg-slate-100/50'}`}>{icon} {label}</button> );\n}\n\nfunction Tag({ label, type }: { label: string, type: 'sentiment' | 'label' | 'activity' }) {\n  const colors = { sentiment:{POSITIVE:'bg-green-100 text-green-800',NEGATIVE:'bg-rose-100 text-rose-800',NEUTRAL:'bg-slate-100 text-slate-800'}, label:{Anxiety:'bg-purple-100 text-purple-800',Fatigue:'bg-slate-100 text-slate-800',Sadness:'bg-blue-100 text-blue-800',Work:'bg-yellow-100 text-yellow-800',Family:'bg-pink-100 text-pink-800',default:'bg-indigo-100 text-indigo-800'}, activity:'bg-orange-100 text-orange-800 border border-orange-200' };\n  let color; if(type==='sentiment')color=(colors.sentiment as any)[label]||colors.label.default; else if(type==='label')color=(colors.label as any)[label]||colors.label.default; else color=colors.activity;\n  return <span className={`px-3 py-1 text-sm font-medium rounded-full ${color}`}>{type==='activity'&&'üèÉ‚Äç‚ôÇÔ∏è '}{label}</span>;\n}\n\nconst SmallTag = ({ text, color }: { text: string, color: string }) => (<span className={`px-2 py-0.5 text-xs font-medium rounded-full ${color}`}>{text}</span>);\n\nfunction InsightCard({ analysis }: { analysis: AnalysisResult }) {\n  const strategy = getPersonalizedStrategy(analysis);\n  return ( <div className=\"mt-6 bg-indigo-50 border border-indigo-200 rounded-lg p-4\"><h3 className=\"font-bold text-lg text-indigo-800 flex items-center\">{strategy.emoji} {strategy.title}</h3><p className=\"text-indigo-700 mt-2 text-sm\">{strategy.text}</p></div> );\n}\n\nfunction CorrelationCard({ analysis }: { analysis: AnalysisResult }) {\n  if (!analysis.activities || analysis.activities.length === 0) return null; let insightText = null; if(analysis.sentiment==='POSITIVE'&&analysis.activities.includes('Exercise'))insightText=\"Exercising seems to positively impact your mood.\"; else if(analysis.sentiment==='POSITIVE'&&analysis.activities.includes('Social'))insightText=\"Connecting with others boosted your spirits!\"; else if(analysis.labels.includes('Fatigue')&&analysis.activities.includes('Work'))insightText=\"Work logged & feeling fatigued. Remember to take breaks.\"; if(!insightText) return null;\n  return ( <div className=\"mt-4 bg-green-50 border border-green-200 rounded-lg p-4\"><h3 className=\"font-bold text-lg text-green-800 flex items-center\">üìà Correlation Insight</h3><p className=\"text-green-700 mt-2 text-sm\">{insightText}</p></div> );\n}\n\n// ==================================================================\n// APP WRAPPER (Main Export - handles Auth loading)\n// ==================================================================\nexport default function AppWrapper() {\n  const { user, loading } = useAuth();\n  if (loading) { return ( <div className=\"flex min-h-screen items-center justify-center bg-slate-50\"><Loader2 size={48} className=\"text-indigo-600 animate-spin\" /></div> ); }\n  if (!user) { return <LoginScreen />; }\n  // User is loaded and logged in, show the main app\n  return <HomePage user={user} />;\n}\n\n// ==================================================================\n// HOME PAGE (The main app logic and layout)\n// ==================================================================\nfunction HomePage({ user }: { user: User }) {\n  // --- State Variables ---\n  const [journalText, setJournalText] = useState('');\n  const [selectedActivities, setSelectedActivities] = useState<string[]>([]);\n  const [isLoadingAnalysis, setIsLoadingAnalysis] = useState(false);\n  const [analysis, setAnalysis] = useState<AnalysisResult | null>(null);\n  const [error, setError] = useState('');\n  const [showBreathingExercise, setShowBreathingExercise] = useState(false);\n  const [streak, setStreak] = useState(0);\n  const [view, setView] = useState<View>('journal');\n  const [journalHistory, setJournalHistory] = useState<JournalEntry[]>([]);\n  const [habits, setHabits] = useState<Habit[]>(initialHabits);\n\n  // --- Data Loading Effect (Firestore Listeners) ---\n  useEffect(() => {\n    if (!user) return;\n\n    // --- Profile Listener ---\n    const profileDocRef = doc(db, 'users', user.uid);\n    const unsubscribeProfile = onSnapshot(profileDocRef, (docSnap) => {\n      if (docSnap.exists()) {\n        const data = docSnap.data();\n        const streakData = data.streakData || { streakCount: 0, lastJournalDate: null };\n        const today = getISODate(new Date()); const yesterday = getISODate(new Date(Date.now() - 86400000));\n        if (streakData.lastJournalDate === today || streakData.lastJournalDate === yesterday) setStreak(streakData.streakCount);\n        else if (streakData.lastJournalDate) setStreak(0);\n        else setStreak(0);\n        setHabits(data.habits || initialHabits);\n      } else {\n        setDoc(profileDocRef, { email: user.email || `guest_${user.uid.substring(0,6)}`, streakData: { streakCount: 0, lastJournalDate: null }, habits: initialHabits });\n        setHabits(initialHabits); setStreak(0);\n      }\n    }, (error) => { console.error(\"Error fetching profile:\", error); setError(\"Could not load profile.\"); });\n\n    // --- Journal History Listener ---\n    const journalsColRef = collection(db, 'users', user.uid, 'journals');\n    const q = query(journalsColRef, orderBy('date', 'desc'));\n    const unsubscribeJournals = onSnapshot(q, (snapshot) => {\n      const history = snapshot.docs.map(doc => ({ id: doc.id, ...doc.data() } as JournalEntry));\n      setJournalHistory(history);\n    }, (error) => { console.error(\"Error fetching journals:\", error); setError(\"Could not load journal history.\"); });\n\n    return () => { unsubscribeProfile(); unsubscribeJournals(); }; // Cleanup\n  }, [user]);\n\n  // --- Handlers ---\n  const handleAnalyze = async () => {\n    if (!user || !journalText.trim()) { setError('Please write something first.'); return; }\n    setIsLoadingAnalysis(true); setError(''); setAnalysis(null);\n    try {\n      const backendUrl = process.env.NEXT_PUBLIC_API_URL || 'http://127.0.0.1:8000/analyze';\n      const response = await axios.post(backendUrl, { text: journalText, activities: selectedActivities });\n      if (response.data.error) throw new Error(response.data.error);\n      setAnalysis(response.data);\n\n      const newEntry = { date: serverTimestamp(), sentiment: response.data.sentiment, labels: response.data.labels, activities: response.data.activities, originalText: journalText };\n      await addDoc(collection(db, 'users', user.uid, 'journals'), newEntry);\n\n      const profileDocRef = doc(db, 'users', user.uid);\n      const profileDoc = await getDoc(profileDocRef);\n      const streakData = profileDoc.exists() ? profileDoc.data().streakData : { streakCount: 0, lastJournalDate: null };\n      const today = getISODate(new Date()); const yesterday = getISODate(new Date(Date.now() - 86400000));\n      let newStreakCount = streakData?.streakCount || 0;\n      if (streakData?.lastJournalDate === today) {} else if (streakData?.lastJournalDate === yesterday) newStreakCount += 1; else newStreakCount = 1;\n      await setDoc(profileDocRef, { streakData: { streakCount: newStreakCount, lastJournalDate: today } }, { merge: true });\n\n      setJournalText(''); setSelectedActivities([]);\n    } catch (err: any) { console.error(err); setError(`Analysis failed: ${err.message || 'Server error'}`); }\n    finally { setIsLoadingAnalysis(false); }\n  };\n\n  const handleHabitUpdate = async (id: string) => {\n    const updatedHabits = habits.map(h => (h.id === id && h.progress < h.target) ? { ...h, progress: h.progress + 1 } : h);\n    setHabits(updatedHabits);\n    try { await setDoc(doc(db, 'users', user.uid), { habits: updatedHabits }, { merge: true }); }\n    catch (error) { console.error(\"Err saving habit:\", error); setError(\"Failed to save habit.\"); }\n  };\n\n  const handleHabitReset = async () => {\n    const resetHabits = initialHabits.map(h => ({ ...h, progress: 0 }));\n    setHabits(resetHabits);\n    try { await setDoc(doc(db, 'users', user.uid), { habits: resetHabits }, { merge: true }); }\n    catch (error) { console.error(\"Err resetting habits:\", error); setError(\"Failed to reset habits.\"); }\n  };\n\n  // --- Render JSX ---\n  return (\n    <>\n      {showBreathingExercise && <BreathingExercise onClose={() => setShowBreathingExercise(false)} />}\n      <main className=\"flex min-h-screen flex-col items-center bg-slate-50 font-sans\">\n        {/* Header */}\n        <header className=\"w-full max-w-3xl px-4 pt-6 sticky top-0 z-20 bg-slate-50/80 backdrop-blur-sm\">\n          <div className=\"flex justify-between items-center pb-2 border-b border-slate-200\">\n            <h1 className=\"text-3xl font-bold text-indigo-800\">Aura</h1>\n            <div className=\"flex items-center gap-4\">\n              <StreakTracker streak={streak} />\n              <button onClick={() => auth.signOut()} className=\"p-2 rounded-full hover:bg-slate-200\" title=\"Log Out\"><LogOut size={20} className=\"text-slate-600\"/></button>\n            </div>\n          </div>\n        </header>\n\n        {/* Navigation Tabs */}\n        <nav className=\"w-full max-w-3xl p-4 sticky top-[73px] z-10 bg-slate-50/80 backdrop-blur-sm\"> {/* Adjust top value based on header height */}\n          <div className=\"flex justify-center space-x-2 rounded-lg bg-slate-200 p-1.5 shadow-sm\">\n            <TabButton icon={<BookOpen size={18} />} label=\"Journal\" isActive={view === 'journal'} onClick={() => setView('journal')} />\n            <TabButton icon={<LayoutDashboard size={18} />} label=\"Dashboard\" isActive={view === 'dashboard'} onClick={() => setView('dashboard')} />\n            <TabButton icon={<Users size={18} />} label=\"Find Support\" isActive={view === 'support'} onClick={() => setView('support')} />\n          </div>\n        </nav>\n\n        {/* Main Content Area */}\n        <div className=\"w-full max-w-3xl p-4 pb-20\">\n          {error && <div className=\"mb-4 p-4 text-sm text-red-700 bg-red-100 rounded-lg shadow-md\" role=\"alert\">{error}</div>}\n\n          {/* JOURNAL TAB */}\n          {view === 'journal' && (\n            <div className=\"animate-fade-in space-y-6\">\n              <div className=\"bg-white p-6 rounded-2xl shadow-lg\">\n                <textarea value={journalText} onChange={(e) => setJournalText(e.target.value)} placeholder=\"How are you feeling today?\" className=\"w-full h-40 p-3 border-slate-200 border rounded-xl focus:ring-2 focus:ring-indigo-500 focus:outline-none\" disabled={isLoadingAnalysis} />\n                <div className=\"mt-4\"><h3 className=\"text-md font-semibold text-slate-700 mb-2\">What did you do today?</h3><div className=\"flex flex-wrap gap-2\">{ALL_ACTIVITIES.map(activity => <button key={activity} onClick={() => setSelectedActivities(p => p.includes(activity) ? p.filter(a => a !== activity) : [...p, activity])} className={`px-3 py-1.5 text-sm font-medium rounded-full border transition-all ${selectedActivities.includes(activity) ? 'bg-indigo-600 text-white border-indigo-600' : 'bg-white text-slate-700 border-slate-300 hover:bg-slate-100'}`}>{activity}</button>)}</div></div>\n                <button onClick={handleAnalyze} disabled={isLoadingAnalysis} className=\"w-full mt-6 bg-indigo-600 text-white font-bold py-3 px-4 rounded-xl hover:bg-indigo-700 disabled:bg-slate-400 disabled:cursor-not-allowed shadow-md flex items-center justify-center\"> {isLoadingAnalysis && <Loader2 size={20} className=\"mr-2 animate-spin\" />} {isLoadingAnalysis ? 'Analyzing...' : 'Analyze & Save Journal'} </button>\n              </div>\n              {analysis && ( <div className=\"bg-white p-6 rounded-2xl shadow-lg animate-fade-in\"><h2 className=\"text-2xl font-bold text-slate-800 mb-4\">Your Analysis</h2><div className=\"flex flex-wrap gap-2\"><Tag label={analysis.sentiment} type=\"sentiment\"/>{analysis.labels.map(l=><Tag key={l} label={l} type=\"label\"/>)}{analysis.activities.map(a=><Tag key={a} label={a} type=\"activity\"/>)}</div><InsightCard analysis={analysis}/><CorrelationCard analysis={analysis}/> {analysis.labels.includes(\"Anxiety\") && <button onClick={()=>setShowBreathingExercise(true)} className=\"w-full mt-4 bg-violet-600 text-white font-bold py-2 px-4 rounded-xl hover:bg-violet-700\">Try Guided Breathing</button>}</div> )}\n            </div>\n          )}\n\n          {/* DASHBOARD TAB */}\n          {view === 'dashboard' && ( <div className=\"animate-fade-in space-y-6\"><MoodChart history={journalHistory}/><GoalTracker habits={habits} onUpdate={handleHabitUpdate} onReset={handleHabitReset}/><WeeklySummary history={journalHistory}/><JournalHistory history={journalHistory}/></div> )}\n\n          {/* FIND SUPPORT TAB */}\n          {view === 'support' && ( <div className=\"animate-fade-in space-y-6\"><CounselorList /></div> )}\n        </div>\n      </main>\n    </>\n  );\n}\n\n"],"names":[],"mappings":"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","debugId":null}}]
}