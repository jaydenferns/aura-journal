{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/jayde/OneDrive/Desktop/aura%20projects/aura-frontend/app/firebaseConfig.ts"],"sourcesContent":["import { initializeApp, getApp, getApps } from \"firebase/app\";\r\nimport { getFirestore } from \"firebase/firestore\";\r\nimport { getAuth } from \"firebase/auth\";\r\n// Do NOT import getAnalytics, as it requires the 'window' object\r\n\r\n// --- PASTE YOUR FIREBASE CONFIG KEYS HERE ---\r\n// You can get this from your Firebase project settings:\r\n// Project Overview > Project settings > General > \"Your apps\" > Web app\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyBT0A7ywivkgVFtWLkbpESNZWw8l8TXa4U\",\r\n  authDomain: \"aura-journal-b37c4.firebaseapp.com\",\r\n  projectId: \"aura-journal-b37c4\",\r\n  storageBucket: \"aura-journal-b37c4.firebasestorage.app\",\r\n  messagingSenderId: \"999309219347\",\r\n  appId: \"1:999309219347:web:3424ddafdb70ca381591e6\"\r\n};\r\n\r\n\r\n\r\n\r\n// Initialize Firebase\r\n// This line checks if the app is already initialized,\r\n// which is important for Next.js to avoid errors during hot-reloading.\r\nconst app = !getApps().length ? initializeApp(firebaseConfig) : getApp();\r\n\r\n// Get the database and auth instances\r\nconst db = getFirestore(app);\r\nconst auth = getAuth(app);\r\n\r\n// Export the instances so other files can use them\r\nexport { app, db, auth };\r\n\r\n\r\n\r\n\r\n\r\n\r\n"],"names":[],"mappings":";;;;;;;;AAAA;AAAA;AACA;AAAA;AACA;AAAA;;;;AACA,iEAAiE;AAEjE,+CAA+C;AAC/C,wDAAwD;AACxD,wEAAwE;AACxE,MAAM,iBAAiB;IACrB,QAAQ;IACR,YAAY;IACZ,WAAW;IACX,eAAe;IACf,mBAAmB;IACnB,OAAO;AACT;AAKA,sBAAsB;AACtB,sDAAsD;AACtD,uEAAuE;AACvE,MAAM,MAAM,CAAC,IAAA,kMAAO,IAAG,MAAM,GAAG,IAAA,wMAAa,EAAC,kBAAkB,IAAA,iMAAM;AAEtE,sCAAsC;AACtC,MAAM,KAAK,IAAA,sMAAY,EAAC;AACxB,MAAM,OAAO,IAAA,4LAAO,EAAC","debugId":null}},
    {"offset": {"line": 48, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/jayde/OneDrive/Desktop/aura%20projects/aura-frontend/app/page.tsx"],"sourcesContent":["'use client';\n\n// React & Next.js imports\nimport { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { BookOpen, LayoutDashboard, LogOut, Loader2, TagIcon, Calendar, Activity, Smile, Frown, Meh, Sparkles, ChevronRight } from 'lucide-react';\nimport { Line } from 'react-chartjs-2';\nimport { Chart as ChartJS, CategoryScale, LinearScale, PointElement, LineElement, Title, Tooltip, Legend } from 'chart.js';\nimport { Timestamp } from 'firebase/firestore'; // Import the Timestamp type\n\n// Firebase & Auth imports\nimport { db, auth } from './firebaseConfig';\nimport { doc, getDoc, setDoc, addDoc, collection, onSnapshot, query, orderBy, serverTimestamp } from 'firebase/firestore';\nimport { GoogleAuthProvider, signInWithPopup, signInAnonymously } from 'firebase/auth';\nimport { onAuthStateChanged, User } from 'firebase/auth';\n\n// Register Chart.js components\nChartJS.register(CategoryScale, LinearScale, PointElement, LineElement, Title, Tooltip, Legend);\n\n// ==================================================================\n// TYPE DEFINITIONS\n// ==================================================================\n\n// Defines the structure for a single journal entry\nexport interface JournalEntry {\n  id: string;\n  date: Timestamp;\n  sentiment: 'POSITIVE' | 'NEGATIVE' | 'NEUTRAL' | string;\n  labels: string[];\n  activities: string[];\n  originalText?: string;\n}\n\n// Defines the structure for a single coping strategy\nexport interface Strategy {\n  title: string;\n  text: string;\n  emoji: string;\n  requiredTags: string[];\n}\n\n// Defines the structure for a single habit\nexport interface Habit {\n  id: string;\n  name: string;\n  target: number;\n  progress: number;\n  emoji: string;\n}\n\n// Defines the main analysis result from the AI\ntype AnalysisResult = {\n  sentiment: 'POSITIVE' | 'NEGATIVE' | 'NEUTRAL' | string;\n  labels: string[];\n  activities: string[];\n};\n\n// Defines the data structure for the user's streak\ntype StreakData = {\n  streakCount: number;\n  lastJournalDate: string | null;\n};\n\n// Defines the two main tabs/views of the app\ntype View = 'journal' | 'dashboard';\n\n// ==================================================================\n// CONSTANTS\n// ==================================================================\n\nconst ALL_ACTIVITIES = [\"Exercise\", \"Social\", \"Work\", \"Hobby\", \"Rest\", \"Nutrition\"];\n\nconst initialHabits: Habit[] = [\n  { id: 'exercise', name: 'Exercise', target: 3, progress: 0, emoji: 'üí™' },\n  { id: 'mindful', name: 'Mindful Minutes', target: 5, progress: 0, emoji: 'üßò' },\n  { id: 'hydrate', name: 'Hydrate (8 glasses)', target: 7, progress: 0, emoji: 'üíß' },\n];\n\n// Helper to get a date in YYYY-MM-DD format, crucial for streak logic\nconst getISODate = (date: Date): string => {\n  return date.toISOString().split('T')[0];\n};\n\n// ==================================================================\n// HELPER: STRATEGY ENGINE\n// ==================================================================\n\nconst strategyLibrary: Strategy[] = [\n  {\n    title: \"Feeling Anxious about Work?\",\n    text: \"Try the 'Urgent-Important Matrix' to organize your tasks. Focusing on what's truly important can reduce feelings of being overwhelmed.\",\n    emoji: \"üìã\",\n    requiredTags: [\"Anxiety\", \"Work\"],\n  },\n  {\n    title: \"Feeling Down about Relationships?\",\n    text: \"Consider writing a short, positive message to a friend or family member. Expressing gratitude can strengthen bonds and lift your spirits.\",\n    emoji: \"üíå\",\n    requiredTags: [\"Sadness\", \"Relationships\"],\n  },\n  {\n    title: \"Feeling Fatigued?\",\n    text: \"Your energy seems low. A short, 10-minute walk can boost circulation and mental clarity more effectively than staying seated.\",\n    emoji: \"üö∂‚Äç‚ôÄÔ∏è\",\n    requiredTags: [\"Fatigue\"],\n  },\n  {\n    title: \"Feeling Anxious?\",\n    text: \"When you feel overwhelmed, try the 4-7-8 breathing technique. Inhale for 4s, hold for 7s, and exhale for 8s to calm your nervous system.\",\n    emoji: \"üå¨Ô∏è\",\n    requiredTags: [\"Anxiety\"],\n  },\n  {\n    title: \"Feeling Sad?\",\n    text: \"It's okay to feel this way. Try writing down three small things you are grateful for today. This practice can gently shift your perspective.\",\n    emoji: \"‚ù§Ô∏è\",\n    requiredTags: [\"Sadness\"],\n  },\n];\n\nexport function getPersonalizedStrategy(analysis: AnalysisResult): Strategy {\n  let bestMatch: Strategy | null = null;\n  let highestScore = 0;\n  const allUserTags = [...analysis.labels, ...analysis.activities];\n\n  for (const strategy of strategyLibrary) {\n    const score = strategy.requiredTags.reduce((acc, tag) => {\n      return allUserTags.includes(tag) ? acc + 1 : acc;\n    }, 0);\n    if (score > highestScore) {\n      highestScore = score;\n      bestMatch = strategy;\n    }\n  }\n\n  return bestMatch || {\n    title: \"Your Daily Insight ‚ú®\",\n    text: \"Reflecting on your feelings is a powerful step. Notice the patterns in your thoughts and activities.\",\n    emoji: \"üß†\",\n    requiredTags: [],\n  };\n}\n\n\n// ==================================================================\n// HELPER: useAuth Hook\n// ==================================================================\n\nfunction useAuth() {\n  const [user, setUser] = useState<User | null>(null);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    const unsubscribe = onAuthStateChanged(auth, (user) => {\n      setUser(user);\n      setLoading(false);\n    });\n    return () => unsubscribe();\n  }, []);\n\n  return { user, loading };\n}\n\n// ==================================================================\n// UI COMPONENTS\n// ==================================================================\n\n// ---------------------------------\n// LoginScreen Component\n// ---------------------------------\nfunction LoginScreen() {\n  const [isGuestLoading, setIsGuestLoading] = useState(false);\n  const [isGoogleLoading, setIsGoogleLoading] = useState(false);\n\n  const handleGoogleLogin = async () => {\n    setIsGoogleLoading(true);\n    const provider = new GoogleAuthProvider();\n    try {\n      await signInWithPopup(auth, provider);\n    } catch (error) {\n      console.error(\"Error during Google login:\", error);\n      setIsGoogleLoading(false);\n    }\n  };\n\n  const handleGuestLogin = async () => {\n    setIsGuestLoading(true);\n    try {\n      await signInAnonymously(auth);\n    } catch (error) {\n      console.error(\"Error during guest login:\", error);\n      setIsGuestLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"flex min-h-screen flex-col items-center justify-center p-4 bg-slate-50 font-sans\">\n      <div className=\"w-full max-w-md text-center\">\n        <header className=\"mb-10\">\n          <h1 className=\"text-6xl font-bold text-indigo-600\">Aura</h1>\n          <p className=\"text-xl text-slate-600 mt-2\">Your private space to reflect and grow.</p>\n        </header>\n        <div className=\"bg-white p-8 rounded-2xl shadow-lg\">\n          <h2 className=\"text-xl font-semibold text-slate-800 mb-6\">Welcome Back</h2>\n          <button\n            onClick={handleGoogleLogin}\n            disabled={isGoogleLoading || isGuestLoading}\n            className=\"w-full bg-indigo-600 text-white font-bold py-3 px-4 rounded-lg hover:bg-indigo-700 transition-all duration-300 shadow-sm flex items-center justify-center disabled:opacity-50\"\n          >\n            {isGoogleLoading ? <Loader2 size={20} className=\"mr-2 animate-spin\" /> : <Sparkles size={20} className=\"mr-2\" />}\n            Sign in with Google\n          </button>\n          <button\n            onClick={handleGuestLogin}\n            disabled={isGoogleLoading || isGuestLoading}\n            className=\"w-full bg-slate-200 text-slate-700 font-bold py-3 px-4 rounded-lg hover:bg-slate-300 transition-all duration-300 mt-4 disabled:opacity-50\"\n          >\n            {isGuestLoading ? <Loader2 size={20} className=\"mr-2 animate-spin\" /> : <ChevronRight size={20} className=\"mr-2\" />}\n            Continue as Guest\n          </button>\n        </div>\n        <p className=\"text-xs text-slate-500 mt-8\">\n          By signing in, you agree to our Terms of Service.\n        </p>\n      </div>\n    </div>\n  );\n}\n\n// ---------------------------------\n// StreakTracker Component\n// ---------------------------------\nfunction StreakTracker({ streak }: { streak: number }) {\n  if (streak === 0) return null; // Don't show the streak if it's 0\n\n  return (\n    <div key={streak} className=\"flex items-center gap-2 bg-white px-3 py-2 rounded-full shadow-sm border border-slate-200 animate-pop-in\">\n      <span className=\"text-2xl\" role=\"img\" aria-label=\"Streak flame\">üî•</span>\n      <span className=\"text-xl font-bold text-orange-500\">{streak}</span>\n    </div>\n  );\n}\n\n// ---------------------------------\n// BreathingExercise Component\n// ---------------------------------\nfunction BreathingExercise({ onClose }: { onClose: () => void }) {\n  const phases = [\n    { name: \"Inhale\", duration: 4 },\n    { name: \"Hold\", duration: 7 },\n    { name: \"Exhale\", duration: 8 },\n  ];\n  const totalCycles = 4;\n  const [cycleIndex, setCycleIndex] = useState(-1);\n  const [instruction, setInstruction] = useState(\"Get Ready\");\n  const [countdown, setCountdown] = useState(3);\n\n  useEffect(() => {\n    const interval = setInterval(() => {\n      setCountdown(c => c - 1);\n    }, 1000);\n\n    if (countdown === 0) {\n      const nextCycleIndex = cycleIndex + 1;\n      if (nextCycleIndex >= phases.length * totalCycles) {\n        clearInterval(interval);\n        onClose();\n        return;\n      }\n      const phase = phases[nextCycleIndex % 3];\n      setCycleIndex(nextCycleIndex);\n      setInstruction(phase.name);\n      setCountdown(phase.duration);\n    }\n    return () => clearInterval(interval);\n  }, [countdown, cycleIndex, onClose]);\n\n  return (\n    <div className=\"fixed inset-0 bg-indigo-900 bg-opacity-95 flex flex-col items-center justify-center z-50 animate-fade-in\">\n      <button onClick={onClose} className=\"absolute top-6 right-6 text-white text-3xl font-bold opacity-70 hover:opacity-100\">&times;</button>\n      <div className=\"text-center\">\n        <div\n          className=\"w-48 h-48 rounded-full border-4 border-white flex items-center justify-center transition-all duration-1000\"\n          style={{ transform: cycleIndex % 3 === 0 ? 'scale(1.1)' : 'scale(1)' }} // Inhale = grow\n        >\n          <div>\n            <p className=\"text-white text-3xl font-bold\">{instruction}</p>\n            <p className=\"text-white text-5xl font-bold mt-2\">{countdown}</p>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\n// ---------------------------------\n// GoalTracker Component\n// ---------------------------------\nfunction GoalTracker({ habits, onUpdate, onReset }: { habits: Habit[], onUpdate: (id: string) => void, onReset: () => void }) {\n  if (!habits || habits.length === 0) {\n    // Render a placeholder or return null if habits haven't loaded yet\n    return (\n        <div className=\"bg-white p-6 rounded-2xl shadow-lg animate-pulse\">\n            <div className=\"h-6 bg-slate-200 rounded w-3/4 mb-4\"></div>\n            <div className=\"space-y-4\">\n                <div className=\"h-10 bg-slate-200 rounded\"></div>\n                <div className=\"h-10 bg-slate-200 rounded\"></div>\n                <div className=\"h-10 bg-slate-200 rounded\"></div>\n            </div>\n        </div>\n    );\n  }\n\n  return (\n    <div className=\"bg-white p-6 rounded-2xl shadow-lg\">\n      <div className=\"flex justify-between items-center mb-4\">\n        <h2 className=\"text-2xl font-bold text-slate-800\">This Week's Goals</h2>\n        <button onClick={onReset} className=\"text-sm font-medium text-indigo-600 hover:text-indigo-800\">Reset</button>\n      </div>\n      <div className=\"space-y-4\">\n        {habits.map(habit => (\n          <div key={habit.id}>\n            <div className=\"flex justify-between items-center\">\n              <span className=\"font-semibold\">{habit.emoji} {habit.name}</span>\n              <span className=\"text-sm text-slate-600\">{habit.progress} / {habit.target}</span>\n            </div>\n            <div className=\"w-full bg-slate-200 rounded-full h-2.5 mt-1.5 overflow-hidden\">\n              <div\n                className=\"bg-indigo-600 h-2.5 rounded-full transition-all duration-300\"\n                style={{ width: `${(habit.progress / habit.target) * 100}%` }}\n              ></div>\n            </div>\n            <button\n              onClick={() => onUpdate(habit.id)}\n              disabled={habit.progress >= habit.target}\n              className=\"mt-2 text-sm bg-slate-100 px-3 py-1 rounded-full hover:bg-slate-200 disabled:opacity-50 disabled:cursor-not-allowed\"\n            >\n              Log +1\n            </button>\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n}\n\n// ---------------------------------\n// MoodChart Component\n// ---------------------------------\nfunction MoodChart({ history }: { history: JournalEntry[] }) {\n  const [chartData, setChartData] = useState<any>({ datasets: [] });\n  const [hasEnoughData, setHasEnoughData] = useState(false);\n\n  useEffect(() => {\n    if (typeof window === 'undefined') return;\n\n    const sevenDaysAgo = new Date();\n    sevenDaysAgo.setDate(sevenDaysAgo.getDate() - 7);\n\n    const recentEntries = history.filter(entry => {\n      if (entry.date && typeof entry.date.toDate === 'function') {\n        return entry.date.toDate() >= sevenDaysAgo;\n      }\n      return false;\n    });\n\n    if (recentEntries.length < 2) {\n      setHasEnoughData(false);\n      return;\n    }\n\n    setHasEnoughData(true);\n    const sortedEntries = recentEntries.sort((a, b) => a.date.toDate().getTime() - b.date.toDate().getTime());\n    const labels = sortedEntries.map(entry => entry.date.toDate().toLocaleDateString('en-US', { month: 'short', day: 'numeric' }));\n    const dataPoints = sortedEntries.map(entry => {\n      if (entry.sentiment === 'POSITIVE') return 1;\n      if (entry.sentiment === 'NEGATIVE') return -1;\n      return 0;\n    });\n\n    setChartData({\n      labels,\n      datasets: [\n        {\n          label: 'Mood Trend',\n          data: dataPoints,\n          borderColor: 'rgb(79, 70, 229)',\n          backgroundColor: 'rgba(79, 70, 229, 0.5)',\n          tension: 0.1,\n        },\n      ],\n    });\n  }, [history]);\n\n  if (!hasEnoughData) {\n    return (\n      <div className=\"bg-white p-6 rounded-2xl shadow-lg\">\n        <h2 className=\"text-2xl font-bold text-slate-800 mb-4\">Mood Analytics</h2>\n        <div className=\"text-center p-4 bg-slate-100 rounded-lg\">\n          <p className=\"text-slate-600\">Journal for a few more days to see your mood trend chart!</p>\n        </div>\n      </div>\n    );\n  }\n\n  const chartOptions = {\n    responsive: true,\n    plugins: {\n      legend: { display: false },\n      title: { display: true, text: 'Your Mood Over the Last 7 Days', font: { size: 16, weight: 'bold' } },\n    },\n    scales: {\n      y: {\n        ticks: {\n          callback: function(value: any) {\n            if (value === 1) return 'Positive';\n            if (value === -1) return 'Negative';\n            if (value === 0) return 'Neutral';\n            return null;\n          }\n        },\n        min: -1.5,\n        max: 1.5,\n      },\n      x: { grid: { display: false } }\n    },\n  };\n\n  return (\n    <div className=\"bg-white p-6 rounded-2xl shadow-lg\">\n      <Line options={chartOptions as any} data={chartData} />\n    </div>\n  );\n}\n\n// ---------------------------------\n// WeeklySummary Component\n// ---------------------------------\nfunction WeeklySummary({ history }: { history: JournalEntry[] }) {\n  const [showModal, setShowModal] = useState(false);\n  const [summary, setSummary] = useState<any | null>(null);\n\n  const calculateSummary = () => {\n    if (typeof window === 'undefined') return;\n    const sevenDaysAgo = new Date();\n    sevenDaysAgo.setDate(sevenDaysAgo.getDate() - 7);\n\n    const recentEntries = history.filter(entry => {\n      if (entry.date && typeof entry.date.toDate === 'function') {\n        return entry.date.toDate() > sevenDaysAgo;\n      }\n      return false;\n    });\n\n    if (recentEntries.length === 0) {\n      setSummary({ totalEntries: 0, moods: {}, topEmotion: 'N/A', topActivity: 'N/A' });\n      return;\n    }\n\n    const moodCounts: { [key: string]: number } = { POSITIVE: 0, NEGATIVE: 0, NEUTRAL: 0 };\n    const labelCounts: { [key: string]: number } = {};\n    const activityOnPositiveDays: { [key: string]: number } = {};\n\n    recentEntries.forEach(entry => {\n      if (moodCounts[entry.sentiment] !== undefined) moodCounts[entry.sentiment]++;\n      entry.labels.forEach(label => { labelCounts[label] = (labelCounts[label] || 0) + 1; });\n      if (entry.sentiment === 'POSITIVE') {\n        entry.activities.forEach(activity => {\n          activityOnPositiveDays[activity] = (activityOnPositiveDays[activity] || 0) + 1;\n        });\n      }\n    });\n\n    const getTopItem = (obj: { [key: string]: number }) => {\n      const top = Object.keys(obj).reduce((a, b) => obj[a] > obj[b] ? a : b, '');\n      return top || 'N/A';\n    }\n\n    setSummary({\n      totalEntries: recentEntries.length,\n      moods: moodCounts,\n      topEmotion: getTopItem(labelCounts),\n      topActivity: getTopItem(activityOnPositiveDays),\n    });\n  };\n\n  const handleShowSummary = () => {\n    calculateSummary(); // Calculate summary when button is clicked\n    setShowModal(true);\n  };\n\n  const MoodStat = ({ mood, count, total }: { mood: string, count: number, total: number }) => {\n    const percentage = total > 0 ? Math.round((count / total) * 100) : 0;\n    const colors: { [key:string]: string } = { POSITIVE: 'bg-green-500', NEGATIVE: 'bg-rose-500', NEUTRAL: 'bg-slate-500' };\n    return (\n      <div>\n        <div className=\"flex justify-between font-semibold text-sm\">\n          <span>{mood.charAt(0).toUpperCase() + mood.slice(1).toLowerCase()}</span>\n          <span>{percentage}%</span>\n        </div>\n        <div className=\"w-full bg-slate-200 rounded-full h-2.5 mt-1\"><div className={`${colors[mood] || 'bg-gray-400'} h-2.5 rounded-full`} style={{ width: `${percentage}%` }}></div></div>\n      </div>\n    );\n  };\n\n  return (\n    <>\n      <div className=\"bg-white p-6 rounded-2xl shadow-lg\">\n        <h2 className=\"text-2xl font-bold text-slate-800 mb-4\">Your Week</h2>\n        <p className=\"text-slate-600 mb-4\">Get a summary of your emotional trends and insights from the past 7 days.</p>\n        <button onClick={handleShowSummary} className=\"w-full bg-indigo-600 text-white font-bold py-3 px-4 rounded-xl hover:bg-indigo-700 transition-all\">Generate My Weekly Summary</button>\n      </div>\n      {showModal && summary && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4 animate-fade-in\">\n          <div className=\"bg-white rounded-lg shadow-2xl p-6 w-full max-w-md\">\n            <div className=\"flex justify-between items-center border-b pb-3 mb-4\"><h2 className=\"text-2xl font-bold text-slate-800\">Your Week in Review</h2><button onClick={() => setShowModal(false)} className=\"text-2xl font-bold text-slate-500 hover:text-slate-800\">&times;</button></div>\n            {summary.totalEntries > 0 ? (\n              <div className=\"space-y-5\">\n                <div>\n                  <h3 className=\"font-bold text-lg mb-2\">Mood Breakdown</h3>\n                  <div className=\"space-y-3\"><MoodStat mood=\"POSITIVE\" count={summary.moods.POSITIVE} total={summary.totalEntries} /><MoodStat mood=\"NEGATIVE\" count={summary.moods.NEGATIVE} total={summary.totalEntries} /><MoodStat mood=\"NEUTRAL\" count={summary.moods.NEUTRAL} total={summary.totalEntries} /></div>\n                </div>\n                <div>\n                  <h3 className=\"font-bold text-lg\">Key Insights</h3>\n                  <div className=\"mt-2 space-y-2 text-slate-700\"><p><strong>Your most common feeling was:</strong> <span className=\"font-semibold text-indigo-700\">{summary.topEmotion}</span></p><p><strong>Activity most linked to positive days:</strong> <span className=\"font-semibold text-green-700\">{summary.topActivity}</span></p></div>\n                </div>\n                <div className=\"bg-indigo-50 p-3 rounded-lg border border-indigo-200\"><p className=\"text-indigo-800\"><strong>Pro-Tip:</strong> To boost your mood next week, try focusing on activities like **{summary.topActivity}**!</p></div>\n              </div>\n            ) : (<p className=\"text-center text-slate-600 py-8\">Not enough data from the past week. Keep journaling to unlock your summary!</p>)}\n          </div>\n        </div>\n      )}\n    </>\n  );\n}\n\n// ---------------------------------\n// JournalHistory Component\n// ---------------------------------\nfunction JournalHistory({ history }: { history: JournalEntry[] }) {\n  const getSentimentStyle = (sentiment: string) => {\n    switch (sentiment) {\n      case 'POSITIVE': return { icon: <Smile size={18} className=\"text-green-500\" />, cardBorder: 'border-l-4 border-green-500' };\n      case 'NEGATIVE': return { icon: <Frown size={18} className=\"text-rose-500\" />, cardBorder: 'border-l-4 border-rose-500' };\n      default: return { icon: <Meh size={18} className=\"text-slate-500\" />, cardBorder: 'border-l-4 border-slate-500' };\n    }\n  };\n\n  if (!history || history.length === 0) {\n    return (\n      <div className=\"bg-white p-6 rounded-2xl shadow-lg\">\n        <h2 className=\"text-2xl font-bold text-slate-800 mb-4\">Journal History</h2>\n        <div className=\"text-center p-4 bg-slate-100 rounded-lg\"><p className=\"text-slate-600\">Your past journal entries will appear here.</p></div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"bg-white p-6 rounded-2xl shadow-lg\">\n      <h2 className=\"text-2xl font-bold text-slate-800 mb-4\">Journal History</h2>\n      <div className=\"space-y-4 max-h-96 overflow-y-auto pr-2\">\n        {history.map(entry => {\n          const { icon, cardBorder } = getSentimentStyle(entry.sentiment);\n          const entryDate = entry.date?.toDate();\n          return (\n            <div key={entry.id} className={`p-4 rounded-lg bg-slate-50 border ${cardBorder}`}>\n              <div className=\"flex justify-between items-center mb-2\">\n                <div className=\"flex items-center gap-2 text-sm font-semibold text-slate-700\">\n                  <Calendar size={14} />\n                  {entryDate ? entryDate.toLocaleDateString('en-US', { year: 'numeric', month: 'long', day: 'numeric' }) : 'No date'}\n                </div>\n                {icon}\n              </div>\n              <p className=\"text-slate-700 mb-3\">{entry.originalText || <i>(No text was saved for this entry)</i>}</p>\n              <div className=\"flex flex-wrap items-center gap-2\">\n                {entry.labels && entry.labels.length > 0 && (\n                  <div className=\"flex items-center gap-2\">\n                    <TagIcon size={14} className=\"text-slate-500\" />\n                    {entry.labels.map(label => <SmallTag key={label} text={label} color=\"bg-indigo-100 text-indigo-700\" />)}\n                  </div>\n                )}\n                {entry.activities && entry.activities.length > 0 && (\n                  <div className=\"flex items-center gap-2\">\n                    <Activity size={14} className=\"text-slate-500\" />\n                    {entry.activities.map(activity => <SmallTag key={activity} text={activity} color=\"bg-orange-100 text-orange-700\" />)}\n                  </div>\n                )}\n              </div>\n            </div>\n          );\n        })}\n      </div>\n    </div>\n  );\n}\n\n// ---------------------------------\n// Generic UI Helper Components\n// ---------------------------------\nfunction TabButton({ icon, label, isActive, onClick }: { icon: React.ReactNode, label: string, isActive: boolean, onClick: () => void }) {\n  return (\n    <button\n      onClick={onClick}\n      className={`flex-1 flex items-center justify-center gap-2 px-3 py-2 rounded-md text-sm font-bold transition-all ${isActive ? 'bg-white text-indigo-700 shadow-sm' : 'text-slate-600 hover:bg-slate-100/50'}`}\n    >\n      {icon} {label}\n    </button>\n  );\n}\n\nfunction Tag({ label, type }: { label: string, type: 'sentiment' | 'label' | 'activity' }) {\n  const colors = {\n    sentiment: { POSITIVE: 'bg-green-100 text-green-800', NEGATIVE: 'bg-rose-100 text-rose-800', NEUTRAL: 'bg-slate-100 text-slate-800' },\n    label: { Anxiety: 'bg-purple-100 text-purple-800', Fatigue: 'bg-slate-100 text-slate-800', Sadness: 'bg-blue-100 text-blue-800', Work: 'bg-yellow-100 text-yellow-800', Family: 'bg-pink-100 text-pink-800', default: 'bg-indigo-100 text-indigo-800' },\n    activity: 'bg-orange-100 text-orange-800 border border-orange-200',\n  };\n  let color;\n  if (type === 'sentiment') color = (colors.sentiment as any)[label] || colors.label.default;\n  else if (type === 'label') color = (colors.label as any)[label] || colors.label.default;\n  else color = colors.activity;\n  return <span className={`px-3 py-1 text-sm font-medium rounded-full ${color}`}>{type === 'activity' && 'üèÉ‚Äç‚ôÇÔ∏è '}{label}</span>;\n}\n\nconst SmallTag = ({ text, color }: { text: string, color: string }) => (<span className={`px-2 py-0.5 text-xs font-medium rounded-full ${color}`}>{text}</span>);\n\nfunction InsightCard({ analysis }: { analysis: AnalysisResult }) {\n  const strategy = getPersonalizedStrategy(analysis);\n  return (\n    <div className=\"mt-6 bg-indigo-50 border border-indigo-200 rounded-lg p-4\">\n      <h3 className=\"font-bold text-lg text-indigo-800 flex items-center\">{strategy.emoji} {strategy.title}</h3>\n      <p className=\"text-indigo-700 mt-2\">{strategy.text}</p>\n    </div>\n  );\n}\n\nfunction CorrelationCard({ analysis }: { analysis: AnalysisResult }) {\n  if (!analysis.activities || analysis.activities.length === 0) return null;\n  let insightText = null;\n  if (analysis.sentiment === 'POSITIVE' && analysis.activities.includes('Exercise')) insightText = \"Great job on exercising! It seems to have a positive impact on your mood.\";\n  else if (analysis.sentiment === 'POSITIVE' && analysis.activities.includes('Social')) insightText = \"Connecting with others is powerful. It looks like it boosted your spirits today!\";\n  else if (analysis.labels.includes('Fatigue') && analysis.activities.includes('Work')) insightText = \"We noticed you logged 'Work' and are feeling fatigued. Remember to take regular breaks to recharge.\";\n  if (!insightText) return null;\n  return (\n    <div className=\"mt-4 bg-green-50 border border-green-200 rounded-lg p-4\">\n      <h3 className=\"font-bold text-lg text-green-800 flex items-center\">üìà Correlation Insight</h3>\n      <p className=\"text-green-700 mt-2\">{insightText}</p>\n    </div>\n  );\n}\n\n\n// ==================================================================\n// APP WRAPPER (Main Export)\n// ==================================================================\nexport default function AppWrapper() {\n  const { user, loading } = useAuth();\n\n  if (loading) {\n    return (\n      <div className=\"flex min-h-screen items-center justify-center bg-slate-50\">\n        <Loader2 size={48} className=\"text-indigo-600 animate-spin\" />\n      </div>\n    );\n  }\n\n  if (!user) {\n    return <LoginScreen />;\n  }\n\n  // If the user is logged in, show the main homepage\n  return <HomePage user={user} />;\n}\n\n// ==================================================================\n// HOME PAGE (The main app)\n// ==================================================================\nfunction HomePage({ user }: { user: User }) {\n  // --- State Variables ---\n  const [journalText, setJournalText] = useState('');\n  const [selectedActivities, setSelectedActivities] = useState<string[]>([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [analysis, setAnalysis] = useState<AnalysisResult | null>(null);\n  const [error, setError] = useState('');\n  const [showBreathingExercise, setShowBreathingExercise] = useState(false);\n  const [streak, setStreak] = useState(0);\n  const [view, setView] = useState<View>('journal');\n  const [journalHistory, setJournalHistory] = useState<JournalEntry[]>([]);\n  const [habits, setHabits] = useState<Habit[]>(initialHabits); // Initialize with default\n\n  // --- Data Loading Effect ---\n  useEffect(() => {\n    if (!user) return;\n\n    // --- Profile Listener (Streak & Habits) ---\n    const profileDocRef = doc(db, 'users', user.uid);\n    const unsubscribeProfile = onSnapshot(profileDocRef, (docSnap) => {\n      if (docSnap.exists()) {\n        const data = docSnap.data();\n\n        // Streak logic\n        const streakData = data.streakData || { streakCount: 0, lastJournalDate: null };\n        const today = getISODate(new Date());\n        const yesterday = getISODate(new Date(Date.now() - 86400000));\n\n        if (streakData.lastJournalDate === today || streakData.lastJournalDate === yesterday) {\n          setStreak(streakData.streakCount);\n        } else if (streakData.lastJournalDate) {\n          setStreak(0); // Streak is broken\n        } else {\n            setStreak(0); // Ensure streak is 0 if no data\n        }\n\n        // Habits logic - use default if none exist in DB\n        setHabits(data.habits || initialHabits);\n      } else {\n        // Create a new user profile document if it doesn't exist\n        setDoc(profileDocRef, {\n          email: user.email || 'guest',\n          streakData: { streakCount: 0, lastJournalDate: null },\n          habits: initialHabits\n        });\n        setHabits(initialHabits); // Set initial habits locally too\n        setStreak(0); // Ensure streak is 0 for new users\n      }\n    }, (error) => {\n      console.error(\"Error fetching user profile:\", error);\n      // Handle error appropriately, maybe show a message to the user\n      setError(\"Could not load your profile data.\");\n    });\n\n    // --- Journal History Listener ---\n    const journalsColRef = collection(db, 'users', user.uid, 'journals');\n    const q = query(journalsColRef, orderBy('date', 'desc'));\n    const unsubscribeJournals = onSnapshot(q, (snapshot) => {\n      const history = snapshot.docs.map(doc => ({ id: doc.id, ...doc.data() } as JournalEntry));\n      setJournalHistory(history);\n    }, (error) => {\n      console.error(\"Error fetching journal history:\", error);\n      setError(\"Could not load your journal history.\");\n    });\n\n    return () => {\n      unsubscribeProfile();\n      unsubscribeJournals();\n    };\n  }, [user]);\n\n  // --- Handlers ---\n  const handleAnalyze = async () => {\n    if (!user || !journalText.trim()) {\n      setError('Please write something in your journal first.');\n      return;\n    }\n    setIsLoading(true); setError(''); setAnalysis(null);\n    try {\n      const response = await axios.post('http://127.0.0.1:8000/analyze', { text: journalText, activities: selectedActivities });\n      if (response.data.error) throw new Error(response.data.error);\n      setAnalysis(response.data);\n\n      // Save new journal entry to Firestore\n      const newEntry = {\n        date: serverTimestamp(),\n        sentiment: response.data.sentiment,\n        labels: response.data.labels,\n        activities: response.data.activities,\n        originalText: journalText,\n      };\n      await addDoc(collection(db, 'users', user.uid, 'journals'), newEntry);\n\n      // Update streak in Firestore\n      const profileDocRef = doc(db, 'users', user.uid);\n      const profileDoc = await getDoc(profileDocRef);\n      // Use profileDoc.data() directly, ensuring it exists after creation\n      const streakData = profileDoc.exists() ? profileDoc.data().streakData : { streakCount: 0, lastJournalDate: null };\n\n      const today = getISODate(new Date());\n      const yesterday = getISODate(new Date(Date.now() - 86400000));\n      let newStreakCount = streakData?.streakCount || 0; // Default to 0 if streakData is null/undefined\n\n      if (streakData?.lastJournalDate === today) { /* No change */ }\n      else if (streakData?.lastJournalDate === yesterday) newStreakCount += 1;\n      else newStreakCount = 1;\n\n      await setDoc(profileDocRef, { streakData: { streakCount: newStreakCount, lastJournalDate: today } }, { merge: true });\n\n      // Clear the form\n      setJournalText('');\n      setSelectedActivities([]);\n\n    } catch (err) {\n      console.error(err);\n      setError('Sorry, we couldn\\'t analyze your entry. The AI server might be busy or offline.');\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const handleHabitUpdate = async (id: string) => {\n    const updatedHabits = habits.map(h => (h.id === id && h.progress < h.target) ? { ...h, progress: h.progress + 1 } : h);\n    setHabits(updatedHabits); // Optimistic update\n    try {\n        const profileDocRef = doc(db, 'users', user.uid);\n        await setDoc(profileDocRef, { habits: updatedHabits }, { merge: true });\n    } catch (error) {\n        console.error(\"Error updating habits:\", error);\n        setError(\"Could not save habit progress.\");\n        // Optional: Revert local state if save fails\n        // setHabits(habits);\n    }\n  };\n\n  const handleHabitReset = async () => {\n    const resetHabits = habits.map(h => ({ ...h, progress: 0 }));\n    setHabits(resetHabits); // Optimistic update\n    try {\n        const profileDocRef = doc(db, 'users', user.uid);\n        await setDoc(profileDocRef, { habits: resetHabits }, { merge: true });\n    } catch (error) {\n        console.error(\"Error resetting habits:\", error);\n        setError(\"Could not reset habit progress.\");\n        // Optional: Revert local state if save fails\n        // setHabits(habits);\n    }\n  };\n\n\n  // --- Render JSX ---\n  return (\n    <>\n      {showBreathingExercise && <BreathingExercise onClose={() => setShowBreathingExercise(false)} />}\n      <main className=\"flex min-h-screen flex-col items-center bg-slate-50 font-sans\">\n        <header className=\"w-full max-w-2xl px-4 pt-6\">\n          <div className=\"flex justify-between items-center\">\n            <h1 className=\"text-3xl font-bold text-indigo-800\">Aura</h1>\n            <div className=\"flex items-center gap-4\">\n              <StreakTracker streak={streak} />\n              <button onClick={() => auth.signOut()} className=\"p-2 rounded-full hover:bg-slate-200\" title=\"Log Out\">\n                <LogOut size={20} className=\"text-slate-600\"/>\n              </button>\n            </div>\n          </div>\n        </header>\n\n        <nav className=\"w-full max-w-2xl p-4 sticky top-0 z-10 bg-slate-50\">\n          <div className=\"flex justify-center space-x-2 rounded-lg bg-slate-200 p-1.5\">\n            <TabButton icon={<BookOpen size={18} />} label=\"Journal\" isActive={view === 'journal'} onClick={() => setView('journal')} />\n            <TabButton icon={<LayoutDashboard size={18} />} label=\"Dashboard\" isActive={view === 'dashboard'} onClick={() => setView('dashboard')} />\n          </div>\n        </nav>\n\n        <div className=\"w-full max-w-2xl p-4 pb-20\"> {/* Add padding-bottom */}\n          {/* JOURNAL TAB */}\n          {view === 'journal' && (\n            <div className=\"animate-fade-in space-y-6\">\n              <div className=\"bg-white p-6 rounded-2xl shadow-lg\">\n                <textarea value={journalText} onChange={(e) => setJournalText(e.target.value)} placeholder=\"How are you feeling today?\" className=\"w-full h-40 p-3 border-slate-200 border rounded-xl focus:ring-2 focus:ring-indigo-500 focus:outline-none\" disabled={isLoading} />\n                <div className=\"mt-4\">\n                  <h3 className=\"text-md font-semibold text-slate-700 mb-2\">What did you do today?</h3>\n                  <div className=\"flex flex-wrap gap-2\">\n                    {ALL_ACTIVITIES.map(activity => <button key={activity} onClick={() => setSelectedActivities(p => p.includes(activity) ? p.filter(a => a !== activity) : [...p, activity])} className={`px-3 py-1.5 text-sm font-medium rounded-full border transition-all ${selectedActivities.includes(activity) ? 'bg-indigo-600 text-white border-indigo-600' : 'bg-white text-slate-700 border-slate-300 hover:bg-slate-100'}`}>{activity}</button>)}\n                  </div>\n                </div>\n                <button onClick={handleAnalyze} disabled={isLoading} className=\"w-full mt-6 bg-indigo-600 text-white font-bold py-3 px-4 rounded-xl hover:bg-indigo-700 disabled:bg-slate-400 disabled:cursor-not-allowed shadow-md flex items-center justify-center\">\n                  {isLoading && <Loader2 size={20} className=\"mr-2 animate-spin\" />}\n                  {isLoading ? 'Analyzing...' : 'Analyze My Feelings'}\n                </button>\n              </div>\n              {error && <p className=\"text-rose-500 text-center mt-4\">{error}</p>}\n              {analysis && (\n                <div className=\"bg-white p-6 rounded-2xl shadow-lg animate-fade-in\">\n                  <h2 className=\"text-2xl font-bold text-slate-800 mb-4\">Your Analysis</h2>\n                  <div className=\"flex flex-wrap gap-2\"><Tag label={analysis.sentiment} type=\"sentiment\" />{analysis.labels.map(label => <Tag key={label} label={label} type=\"label\" />)}{analysis.activities.map(activity => <Tag key={activity} label={activity} type=\"activity\" />)}</div>\n                  <InsightCard analysis={analysis} /><CorrelationCard analysis={analysis} />\n                  {analysis.labels.includes(\"Anxiety\") && <button onClick={() => setShowBreathingExercise(true)} className=\"w-full mt-4 bg-violet-600 text-white font-bold py-2 px-4 rounded-xl hover:bg-violet-700\">Try a Guided Breathing Exercise</button>}\n                </div>\n              )}\n            </div>\n          )}\n\n          {/* DASHBOARD TAB */}\n          {view === 'dashboard' && (\n            <div className=\"animate-fade-in space-y-6\">\n              <MoodChart history={journalHistory} />\n              <GoalTracker habits={habits} onUpdate={handleHabitUpdate} onReset={handleHabitReset} />\n              <WeeklySummary history={journalHistory} />\n              <JournalHistory history={journalHistory} />\n            </div>\n          )}\n        </div>\n      </main>\n    </>\n  );\n}\n\n"],"names":[],"mappings":"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","debugId":null}}]
}